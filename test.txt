import lightgbm as lgb
import matplotlib.pyplot as plt

# Plot importance
ax = lgb.plot_importance(
    model,
    importance_type="gain",
    max_num_features=20
)

# Add values on bars
for bar in ax.patches:
    width = bar.get_width()
    ax.text(
        width,
        bar.get_y() + bar.get_height() / 2,
        f"{width:.2f}",
        va="center",
        ha="left",
        fontsize=9
    )

ax.set_title("LightGBM Feature Importance (Gain)")
plt.tight_layout()
plt.show()
